<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yangjiao.mapper.TextResultMapper">
    <resultMap id="textResultMap" type="textResult">
        <id property="id" column="id"/>
        <result property="userId" column="user_id"/>
        <result property="questionId" column="question_id"/>
        <result property="answer" column="answer"/>
    </resultMap>

    <insert id="insert" keyProperty="id" useGeneratedKeys="true">
        insert into text_result(user_id, question_id, answer)
        values (#{userId}, #{questionId}, #{answer});
    </insert>
    <select id="selectById" resultMap="textResultMap">
        select id, user_id, question_id, answer
        from text_result
        where id = #{id}
    </select>
    <select id="selectAllByQuestionId" resultMap="textResultMap">
        select id, user_id, question_id, answer
        from text_result
        where question_id = #{questionId}
        order by id
        limit #{startIndex},#{pageSize}
    </select>
</mapper>